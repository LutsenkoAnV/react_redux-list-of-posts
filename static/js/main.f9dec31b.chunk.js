(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),s=a.n(c),o=a(2),l=a(1),u=a(18),i=a(3),m=a(15),d=a(8),p=a.n(d),E=a(16),f="https://jsonplaceholder.typicode.com/",y=function(){var e=Object(E.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b={posts:[],isLoading:!1,isStarted:!0,query:"",filterQuery:""},_=function(e){return{type:"SET_LOADING",payload:e}},O=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_POSTS":return Object(l.a)({},e,{posts:t.payload});case"SET_LOADING":return Object(l.a)({},e,{isLoading:t.payload});case"SET_STARTED":return Object(l.a)({},e,{isStarted:t.payload});case"SET_QUERY":return Object(l.a)({},e,{query:t.payload});case"SET_FILTER_QUERY":return Object(l.a)({},e,{filterQuery:t.payload});case"REMOVE_POST":return Object(l.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case"REMOVE_COMMENT":return Object(l.a)({},e,{posts:e.posts.map((function(e){return Object(l.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.payload}))})}))});default:return e}}),b,Object(i.a)(m.a)),v=(a(30),a(17)),h=a.n(v),N=(a(39),function(e){var t=e.person;return r.a.createElement("div",{className:"user"},r.a.createElement("h3",{className:"user__heading"},t.name),r.a.createElement("p",{className:"user__email"},"E-mail:",r.a.createElement("span",null," ".concat(t.email))),r.a.createElement("address",{className:"user__address"},r.a.createElement("span",null,"street:"," ".concat(t.address.street)),r.a.createElement("span",null,"suite:"," ".concat(t.address.suite)),r.a.createElement("span",null,"city:"," ".concat(t.address.city)),r.a.createElement("span",null,"zipcode:"," ".concat(t.address.zipcode))))}),S=(a(40),{removeComment:function(e){return{type:"REMOVE_COMMENT",payload:e}}}),T=Object(o.b)(null,S)((function(e){var t=e.comment,a=e.removeComment;return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{type:"button",className:"destroy destroy-comment","aria-label":"Delete","data-name":t.id,onClick:function(){return a(t.id)}}),r.a.createElement("h3",{className:"comment__name"},t.name),r.a.createElement("p",{className:"comment__email"},t.email),r.a.createElement("p",{className:"comment__text"},t.body))})),j=function(e){var t=e.comments;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(T,{key:e.id,comment:e})})))},g=(a(41),{removePost:function(e){return{type:"REMOVE_POST",payload:e}}}),L=Object(o.b)(null,g)((function(e){var t=e.post,a=e.removePost;return r.a.createElement("div",{className:"post"},r.a.createElement("button",{type:"button",className:"destroy destroy-post","aria-label":"Delete","data-name":t.id,onClick:function(){return a(t.id)}}),r.a.createElement(N,{person:t.user}),r.a.createElement("h2",{className:"post__heading"},t.title),r.a.createElement("p",{className:"post__text"},t.body),r.a.createElement(j,{comments:t.comments}))})),C=function(e){var t=e.postlist;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(L,{key:e.id,post:e})})))},R=(a(42),{loadPosts:function(){return function(e){e(_(!0)),Promise.all([y("".concat(f,"posts")),y("".concat(f,"users")),y("".concat(f,"comments"))]).then((function(t){var a=Object(u.a)(t,3),n=a[0],r=a[1],c=a[2],s=n.map((function(e){return Object(l.a)({},e,{user:r.find((function(t){return e.userId===t.id})),comments:c.filter((function(t){return e.id===t.postId}))})}));e({type:"LOAD_POSTS",payload:s}),e(_(!1)),e(function(e){return{type:"SET_STARTED",payload:e}}(!1))}))}},handleInputChange:function(e){return function(t){t({type:"SET_QUERY",payload:e})}},setFilterQuery:function(e){return{type:"SET_FILTER_QUERY",payload:e}}}),Q=Object(o.b)((function(e){return{posts:e.posts,isLoading:e.isLoading,isStarted:e.isStarted,query:e.query,filterQuery:e.filterQuery}}),R)((function(e){var t=e.posts,a=e.isLoading,c=e.isStarted,s=e.loadPosts,o=e.query,l=e.handleInputChange,u=e.filterQuery,i=e.setFilterQuery,m=Object(n.useCallback)(h()(i,1e3),[]),d=Object(n.useMemo)((function(){var e=u.toLowerCase();return t.filter((function(t){return t.title.toLowerCase().includes(e)||t.body.toLowerCase().includes(e)}))}),[u,t]);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("button",{type:"button",className:"button button-load",disabled:a,onClick:s},a?"Loading...":"Load"):r.a.createElement("div",{className:"app"},r.a.createElement("label",{htmlFor:"search-query",className:"label"},"Search",r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",id:"search-query",value:o,className:"input",placeholder:"Title and body search",onChange:function(e){return function(e){var t=e.target.value;l(t),m(t)}(e)}}))),r.a.createElement(C,{postlist:u?d:t})))}));s.a.render(r.a.createElement(o.a,{store:O},r.a.createElement(Q,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f9dec31b.chunk.js.map