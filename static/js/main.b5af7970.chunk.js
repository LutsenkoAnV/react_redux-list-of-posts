(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(4),o=a.n(c),l=a(2),u=a(1),i=a(18),m=a(3),d=a(15);!function(e){e.setPosts="LOAD_POSTS",e.setLoading="SET_LOADING",e.setStarted="SET_STARTED",e.setQuery="SET_QUERY",e.setFilterQuery="SET_FILTER_QUERY",e.setRemovePost="REMOVE_POST",e.setRemoveComment="REMOVE_COMMENT"}(n||(n={}));var p=a(8),E=a.n(p),f=a(16),y="https://jsonplaceholder.typicode.com/",b=function(){var e=Object(f.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={posts:[],isLoading:!1,isStarted:!0,query:"",filterQuery:""},O=function(e){return{type:"SET_LOADING",payload:e}},v=Object(m.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_POSTS":return Object(u.a)({},e,{posts:t.payload});case"SET_LOADING":return Object(u.a)({},e,{isLoading:t.payload});case"SET_STARTED":return Object(u.a)({},e,{isStarted:t.payload});case"SET_QUERY":return Object(u.a)({},e,{query:t.payload});case"SET_FILTER_QUERY":return Object(u.a)({},e,{filterQuery:t.payload});case"REMOVE_POST":return Object(u.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case"REMOVE_COMMENT":return Object(u.a)({},e,{posts:e.posts.map((function(e){return Object(u.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.payload}))})}))});default:return e}}),_,Object(m.a)(d.a)),S=(a(30),a(17)),T=a.n(S),h=(a(39),function(e){var t=e.person;return s.a.createElement("div",{className:"user"},s.a.createElement("h3",{className:"user__heading"},t.name),s.a.createElement("p",{className:"user__email"},"E-mail:",s.a.createElement("span",null," ".concat(t.email))),s.a.createElement("address",{className:"user__address"},s.a.createElement("span",null,"street:"," ".concat(t.address.street)),s.a.createElement("span",null,"suite:"," ".concat(t.address.suite)),s.a.createElement("span",null,"city:"," ".concat(t.address.city)),s.a.createElement("span",null,"zipcode:"," ".concat(t.address.zipcode))))}),N=(a(40),{removeComment:function(e){return{type:"REMOVE_COMMENT",payload:e}}}),j=Object(l.b)(null,N)((function(e){var t=e.comment,a=e.removeComment;return s.a.createElement("div",{className:"comment"},s.a.createElement("button",{type:"button",className:"destroy destroy-comment","aria-label":"Delete","data-name":t.id,onClick:function(){return a(t.id)}}),s.a.createElement("h3",{className:"comment__name"},t.name),s.a.createElement("p",{className:"comment__email"},t.email),s.a.createElement("p",{className:"comment__text"},t.body))})),L=function(e){var t=e.comments;return s.a.createElement("div",null,t.map((function(e){return s.a.createElement(j,{key:e.id,comment:e})})))},R=(a(41),{removePost:function(e){return{type:"REMOVE_POST",payload:e}}}),g=Object(l.b)(null,R)((function(e){var t=e.post,a=e.removePost;return s.a.createElement("div",{className:"post"},s.a.createElement("button",{type:"button",className:"destroy destroy-post","aria-label":"Delete","data-name":t.id,onClick:function(){return a(t.id)}}),s.a.createElement(h,{person:t.user}),s.a.createElement("h2",{className:"post__heading"},t.title),s.a.createElement("p",{className:"post__text"},t.body),s.a.createElement(L,{comments:t.comments}))})),C=function(e){var t=e.postlist;return s.a.createElement("div",null,t.map((function(e){return s.a.createElement(g,{key:e.id,post:e})})))},Q=(a(42),{loadPosts:function(){return function(e){e(O(!0)),Promise.all([b("".concat(y,"posts")),b("".concat(y,"users")),b("".concat(y,"comments"))]).then((function(t){var a=Object(i.a)(t,3),n=a[0],r=a[1],s=a[2],c=n.map((function(e){return Object(u.a)({},e,{user:r.find((function(t){return e.userId===t.id})),comments:s.filter((function(t){return e.id===t.postId}))})}));e({type:"LOAD_POSTS",payload:c}),e(O(!1)),e(function(e){return{type:"SET_STARTED",payload:e}}(!1))}))}},handleInputChange:function(e){return function(t){t({type:"SET_QUERY",payload:e})}},setFilterQuery:function(e){return{type:"SET_FILTER_QUERY",payload:e}}}),M=Object(l.b)((function(e){return{posts:e.posts,isLoading:e.isLoading,isStarted:e.isStarted,query:e.query,filterQuery:e.filterQuery}}),Q)((function(e){var t=e.posts,a=e.isLoading,n=e.isStarted,c=e.loadPosts,o=e.query,l=e.handleInputChange,u=e.filterQuery,i=e.setFilterQuery,m=Object(r.useCallback)(T()(i,1e3),[]),d=Object(r.useMemo)((function(){var e=u.toLowerCase();return t.filter((function(t){return t.title.toLowerCase().includes(e)||t.body.toLowerCase().includes(e)}))}),[u,t]);return s.a.createElement(s.a.Fragment,null,n?s.a.createElement("button",{type:"button",className:"button button-load",disabled:a,onClick:c},a?"Loading...":"Load"):s.a.createElement("div",{className:"app"},s.a.createElement("label",{htmlFor:"search-query",className:"label"},"Search",s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",id:"search-query",value:o,className:"input",placeholder:"Title and body search",onChange:function(e){return function(e){var t=e.target.value;l(t),m(t)}(e)}}))),s.a.createElement(C,{postlist:u?d:t})))}));o.a.render(s.a.createElement(l.a,{store:v},s.a.createElement(M,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b5af7970.chunk.js.map